<h1>GreenCount Dashboard</h1>
<p>Manage your data below:</p>

<p>{{ message }}</p>

<!-- Action Buttons -->
<div>
  <button (click)="fetchData()">Fetch Data</button>
  <button (click)="summarizeData()">Summarize Metric</button>
</div>

<!-- Loading Indicator -->
<div *ngIf="isLoading" style="color: blue;">Loading...</div>

<!-- Data Table -->
<div *ngIf="data">
  <h2>Data Table</h2>
  <table border="1" style="width: 100%; border-collapse: collapse; text-align: left;">
    <thead>
      <tr>
        <th>Metric</th>
        <th>Unit</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of data">
        <td>{{ item.Metric }}</td>
        <td>{{ item.Unit }}</td>
        <td>{{ item.Value | number:'1.2-2' }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Input Form for Adding Data -->
<div style="margin-top: 20px;">
  <h2>Add New Data</h2>
  <label for="metric">Metric:</label>
  <input type="text" id="metric" [(ngModel)]="metric" placeholder="Enter metric (e.g., Electricity)" />

  <label for="unit">Unit:</label>
  <input type="text" id="unit" [(ngModel)]="unit" placeholder="Enter unit (e.g., kWh)" />

  <label for="value">Value:</label>
  <input type="number" id="value" [(ngModel)]="value" placeholder="Enter value (e.g., 100)" />

  <button (click)="addData()">Submit</button>
</div>

<!-- Summary Section -->
<div *ngIf="summary" style="margin-top: 20px;">
  <h2>Summary for Metric: {{ summary.metric }}</h2>
  <p><strong>Total:</strong> {{ summary.total | number:'1.2-2' }}</p>
  <p><strong>Average:</strong> {{ summary.average | number:'1.2-2' }}</p>
  <p><strong>Count:</strong> {{ summary.count }}</p>
</div>
