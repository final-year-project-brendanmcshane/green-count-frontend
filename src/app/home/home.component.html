<h1>GreenCount Dashboard</h1>
<p>{{ message }}</p>

<!-- Action Buttons -->
<div>
  <button (click)="fetchData()">Fetch Data</button>
  <button (click)="summarizeData()">Summarize Metric</button>
</div>

<!-- Loading Indicator -->
<div *ngIf="isLoading" style="color: blue;">Loading...</div>

<!-- Data Table -->
<div *ngIf="data && data.length > 0">
  <h2>Data Table</h2>
  <table border="1" style="width: 100%; border-collapse: collapse; text-align: left;">
    <thead>
      <tr>
        <th>Metric</th>
        <th>Unit</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of data">
        <td>{{ item.Metric }}</td>
        <td>{{ item.Unit }}</td>
        <td>{{ item.Value }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Add Data Form -->
<div>
  <h2>Add New Data</h2>
  <label>Metric:</label>
  <select [(ngModel)]="metric">
    <option value="Electricity">Electricity</option>
    <option value="Water">Water</option>
    <option value="Gas">Gas</option>
  </select>

  <label>Unit:</label>
  <select [(ngModel)]="unit">
    <option *ngIf="metric === 'Electricity'" value="kWh">kWh</option>
    <option *ngIf="metric === 'Electricity'" value="MWh">MWh</option>
    <option *ngIf="metric !== 'Electricity'" value="liters">Liters</option>
    <option *ngIf="metric !== 'Electricity'" value="gallons">Gallons</option>
    <option *ngIf="metric !== 'Electricity'" value="cubic meters">Cubic Meters</option>
  </select>

  <label>Value:</label>
  <input type="number" [(ngModel)]="value" placeholder="Enter value (e.g., 100)" />
  <button (click)="addData()">Submit</button>
</div>

<!-- Convert Data Form -->
<div>
  <h2>Convert Data</h2>
  <label>Metric:</label>
  <select [(ngModel)]="conversionMetric">
    <option value="Electricity">Electricity</option>
    <option value="Water">Water</option>
    <option value="Gas">Gas</option>
  </select>

  <label>Value:</label>
  <input type="number" [(ngModel)]="conversionValue" placeholder="Enter value to convert" />

  <label>Target Unit:</label>
  <select [(ngModel)]="targetUnit">
    <option *ngIf="conversionMetric === 'Electricity'" value="kWh">kWh</option>
    <option *ngIf="conversionMetric === 'Electricity'" value="MWh">MWh</option>
    <option *ngIf="conversionMetric !== 'Electricity'" value="liters">Liters</option>
    <option *ngIf="conversionMetric !== 'Electricity'" value="gallons">Gallons</option>
    <option *ngIf="conversionMetric === 'Gas'" value="cubic meters">Cubic Meters</option>
    <option *ngIf="conversionMetric === 'Gas'" value="liters">Liters</option>
  </select>

  <button (click)="convertData()">Convert</button>
</div>

<!-- Conversion Result -->
<div *ngIf="convertedData">
  <h3>Conversion Result</h3>
  <p><strong>Metric:</strong> {{ convertedData.Metric }}</p>
  <p><strong>Original Value:</strong> {{ convertedData.OriginalValue }}</p>
  <p><strong>Converted Value:</strong> {{ convertedData.ConvertedValue }}</p>
  <p><strong>Target Unit:</strong> {{ convertedData.TargetUnit }}</p>
</div>

<!-- Energy Emissions -->
<div *ngIf="energyEmissions !== null">
  <h3>Energy Impact Result</h3>
  <p><strong>CO2 Emissions:</strong> {{ energyEmissions }} tons of CO2</p>
</div>

<!-- Food Impact Form -->
<div>
  <h2>Calculate Food Impact</h2>
  <label>Food Item:</label>
  <select [(ngModel)]="foodItem">
    <option value="beef">Beef</option>
    <option value="chicken">Chicken</option>
    <option value="pork">Pork</option>
    <option value="vegetables">Vegetables</option>
    <option value="dairy">Dairy</option>
  </select>

  <label>Weight (kg):</label>
  <input type="number" [(ngModel)]="foodWeight" placeholder="Enter weight in kg" />

  <button (click)="convertFoodImpact()">Calculate Food Impact</button>
</div>

<!-- Food Impact Result -->
<div *ngIf="foodEmissions !== null">
  <h3>Food Impact Result</h3>
  <p><strong>Food Item:</strong> {{ foodItem }}</p>
  <p><strong>Weight:</strong> {{ foodWeight }} kg</p>
  <p><strong>CO2 Emissions:</strong> {{ foodEmissions }} kg</p>
</div>
